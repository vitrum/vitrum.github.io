<!doctype html>
<html class="theme-next use-motion ">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description" content="经年以来，许多优秀的文章都在赞美着基于 CSS 设计的优越， 哀叹着基于表格设计的没落。但却很少有人换个角度想想，或许是因为你得在了解并运用了基于 CSS 的设计之后才可以批评它， 而一旦了解了之后，你又不愿意回头去用原先的老式设计方法了。为了弥补一下这种不平衡，也因为在这场游戏中扮演一个大反派挺酷的，我决定写篇文章，说说为何在某些情况下，传统的表格设计方式就算不比基于CSS 的——或者说基于标准">
<meta property="og:type" content="article">
<meta property="og:title" content="对于DIV+CSS的开发方式，我们也要听听另外的声音">
<meta property="og:url" content="http://vitrum.github.io/2005/09/23/e5-af-b9-e4-ba-8edivcss-e7-9a-84-e5-bc-80-e5-8f-91-e6-96-b9-e5-bc-8f-ef-bc-8c-e6-88-91-e4-bb-ac-e4-b9-9f-e8-a6-81-e5-90-ac-e5-90-ac-e5-8f-a6-e5-a4-96-e7-9a-84-e5-a3-b0-e9-9f-b3/index.html">
<meta property="og:site_name" content="Vitrum's Blog">
<meta property="og:description" content="经年以来，许多优秀的文章都在赞美着基于 CSS 设计的优越， 哀叹着基于表格设计的没落。但却很少有人换个角度想想，或许是因为你得在了解并运用了基于 CSS 的设计之后才可以批评它， 而一旦了解了之后，你又不愿意回头去用原先的老式设计方法了。为了弥补一下这种不平衡，也因为在这场游戏中扮演一个大反派挺酷的，我决定写篇文章，说说为何在某些情况下，传统的表格设计方式就算不比基于CSS 的——或者说基于标准">
<meta property="og:updated_time" content="2015-07-27T07:54:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="对于DIV+CSS的开发方式，我们也要听听另外的声音">
<meta name="twitter:description" content="经年以来，许多优秀的文章都在赞美着基于 CSS 设计的优越， 哀叹着基于表格设计的没落。但却很少有人换个角度想想，或许是因为你得在了解并运用了基于 CSS 的设计之后才可以批评它， 而一旦了解了之后，你又不愿意回头去用原先的老式设计方法了。为了弥补一下这种不平衡，也因为在这场游戏中扮演一个大反派挺酷的，我决定写篇文章，说说为何在某些情况下，传统的表格设计方式就算不比基于CSS 的——或者说基于标准">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

    <title> 对于DIV+CSS的开发方式，我们也要听听另外的声音 // Vitrum's Blog </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Vitrum's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-about"></i> <br />
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              对于DIV+CSS的开发方式，我们也要听听另外的声音
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2005-09-23T01:52:58+08:00" content="2005-09-23">
            2005-09-23
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/计算机与-Internet/" itemprop="url" rel="index"><span itemprop="name">计算机与 Internet</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><div id="msgcns!9697D6160EFEBC17!251" class="bvMsg"><div><strong>
</strong><br><br>经年以来，许多优秀的文章都在赞美着基于 CSS 设计的优越， 哀叹着基于表格设计的没落。但却很少有人换个角度想想，或许是因为你得在了解并运用了基于 CSS 的设计之后才可以批评它， 而一旦了解了之后，你又不愿意回头去用原先的老式设计方法了。<br><br>为了弥补一下这种不平衡，也因为在这场游戏中扮演一个大反派挺酷的，我决定写篇文章，说说为何在某些情况下，传统的表格设计方式就算不比基于CSS 的——或者说基于标准的——设计方式好，也不比它们差。<br><br><strong>一、妖魔化表格</strong><br><br>表格出现以前，Web 本是个相当乏味的地方，正是使用表格排版，才打开了可视化的页面设计的新局面。表格对于 Web 和 Web 设计领域普及的贡献到底有多大或许有争议，但一旦离开表格，我们这些网页设计师们必会失去工作，却是毋庸置疑的。<br><br>近年来基于表格的设计确实被妖魔化了，Web 纯化论者会告诉你，表格对排版毫无意义，因而你绝不能用到它。然而历史证明，许多技术一开始是为了实现某个目标设计的，却在别的领域发现了更大的用场而大展身手。 就像 Web 本身，一开始不也只是为了共享研究数据嘛，现在在娱乐和商业方面的应用却与信息与教育方面的并驾齐驱了。<br><br><strong>二、只为舒服一点</strong><br><br>Web 设计师们多年以来都在使用表格排版页面，这是绝大部分设计师都已掌握的能力。如此地使用表格能保证你获得预想的效果，通过一些简单的 hack，比如间隔 gif， 我们几乎一定能保证我们的站点在最广泛的 Web 浏览器上看起来都一样，从最低版本的 Netscape 4到Safari 这样的现代浏览器。<br><br>尽管先驱者们早已宣传了好久 Web 标准， 大部分的网站还是使用表格和不兼容标准的代码开发的，因此用户代理就不得不在很长一段时间内支持基于表格的排版方式。 这对于 Web 标准的卖点来说，是个致命的打击：标准没有标准应有的地位。不大可能会出现下面这种情况，某个主要的浏览器厂商 (唔，还是说 Microsoft) 突然发布了一个大部分网站都显示不了的浏览器。<br><br>所以网页设计者们总感觉不到开始使用基于 CSS 排版和支持标准的代码的那种危机感和必要性。<br><br><strong>三、降低门槛Web</strong><br><br>正是因为它的门槛低才如此成功的： HTML 是个简单易学的语言，浏览器又能容忍许多标记混乱的文档。 这使在 Web 上发布内容变得难以置信地容易。即便你 12 岁的侄子也能用 Microsoft Office 中附带的 Frontpage 捣鼓出一个简单的网站来。<br><br>基于表格的设计比之基于 CSS 的，当然 CSS 的语法很简单，正常人都会同意：你没必要是火箭科学家才能学会 CSS。尽管如此，其中有些概念还是过于微妙了，不易领会。比如表面上看，Box 模型很简单，但我偶尔还是会在边界折叠 (margin collapsing) 上滑一跤， 浮动(float) 和清除 (clear) 这样的概念也不好理解，较难运用。 以我的经验而言，从了解 CSS 的基本概念到能自如地用 CSS 开发站点，大约需要走过一条为期 6-12 月的学习曲线。<br><br>然后是浏览器支不支持的问题。一旦你正式开始干活，就会慢慢了解哪个浏览器支持什么、不支持什么，和一些常见的浏览器 bug。可惜bug 太多了， 就算“专家”们也难以估量自己花在修整 bug 上的时间。对新手来说就更让人泄气了，因为他们不知道是因为自己误解了CSS 呢，还是某些晦涩的浏览器 bug？也许这就是为何同样的问题一再出现在 CSS-Discuss 等邮件列表上的原因吧。<br><br>如果浏览器厂商们终能步调一致， 用 CSS 开发站点将会容易得多。但我还是觉得——大部分人也会同意——CSS 开发的门槛比基于表格的还是太高了。换个说法， 我觉得这也说明了为何基于 CSS 的设计在Web 专家们之间如此流行。这让他们把自己和那些业余的“Front-page 牛仔”们区分开来，让他们找回当年 Web 只属于自己这个小群体时的感觉。 大概这正式因此，那么多人都把 Web 标准看作不可触及的“象牙塔”， 那么多 Web 标准的鼓吹者却以狂热的态度，带着优越感去看待网页设计。<br><br><strong>四、有些东西还是用表格来做更容易</strong><br><br>我确信我们大家都曾发现，自己为了实现用表格做起来是小菜一碟的功能写了相当复杂的 CSS。比如处理表单 (form) 的外观，形状再复杂怪异的表单也能用表格轻松搞定。 你是可以用 CSS 的浮动元素实现类似的结果，但就麻烦多了。 如果你是个 CSS guru，这种麻烦也是快乐的事。可毫无疑问，如果你只是个普通人，还有个会掐住你的喉咙问你怎么做个小表单也花了这么久的老板，事情就不那么好玩了。<br><br>如果你有足够的知识，又有足够的耐心，习惯于用表格做的大部分事情还是都能用 CSS 实现的。 虽说花的时间长点吧，还是有个限度的(或者被打击得放弃了尝试)。关键是确实有些无论你怎么努力，还是无法实现的东西，其中一项便是页脚栏 (page footer)。我常常见到来自灰心失望的 CSS 作者的贴子， 他们试图创建那种可以粘在窗口底端的页脚栏，使即便那个窗口没伸展到整个屏幕也能保证效果。如果用到了表格，要做出这种效果简单得很， 可单独用 CSS 来做就是另一回事了。为什么还有 Web 开发者们不愿意用 CSS？就是因为一旦不用表格，简单的事情反而变复杂了。<br><br><strong>五、夸大收益</strong><br><br>有很多理由让你丢掉表格、去适应基于 CSS 的排版， 可在推动 Web标准的洪流中，许多人夸大了收益。 大的站点改用 CSS 排版确实能节省不少带宽。可对大部分的其他站点来说，受益小得庶几可以忽略不计。<br><br>大家都希望页面载入得更快， 而标准鼓吹者们也说 CSS 能帮你做到这一点。大多数站点的“设计”都是均匀分布在整个站点上的，但基于 CSS 的“设计”是放在一个到更多的文件中的。 这些文件会很快变得很复杂、很大，即便一个小站点也是如此。我最近设计的一个站点用了 4 个样式表，加起来有 12k 之大 (虽说包括了空白和注释)。使用 CSS其实是在先集中地载入然后再浏览，而不是把要载入的数据平均分布到整个站点各处。也就是说，相比用表格排版，首页需要花更长的时间来下载。只不过如果样式表已经下载了，它们会被缓存起来而不需要重新下载。可毕竟一个站点的首页是你最不希望载入得那么慢的一页呀。<br><br><strong>六、招揽客户</strong><br><br>即便有时网页设计者们觉得把符合 Web 标准搭售给客户是有必要的，但令人遗憾的事实是，大多数的客户对站点的代码好坏并不在意。我们一般用的是胡萝卜加大棒的方式，胡萝卜是诸如对搜索引擎的友好度之类，而大棒才是网页的亲和力 (accessibility)。<br><br>确然，搜索引擎是比较喜欢语义化标记的页面，而且大家也都认为搜索引擎喜欢短小的代码，通过 CSS 和 Web 标准来建构站点可以大大增进对搜索引擎友好的站点的开发。然而没有银弹。许多基于表格的站点照样获得了很高的搜索引擎排名。 用 CSS 开发的站点照样也可能只获得一个很糟糕的排名。高排名的关键是内容和来自别处的链接，而不是用表格还是用 CSS 来排版。<br><br>另外关于利用客户对“亲和力”这个词的敬畏来搭售 Web 标准特别是 CSS 设计， 其实基于表格的设计没有什么天生的亲和力缺陷，表格只要线性化了，就有意义，内容也就具有亲和力了。现时的读屏器技术已经不错，而且大部分的读屏器都能很好的支持基于表格的站点。当然你的站点的语法最好被认证通过 AA 亲和力等级，即便对更严格的 AAA 等级，不用表格设计也不过是个建议罢了，并非必备。<br><br>另一个经常提到的受益是可以让客户独立于设计提供商。在人人都依照标准开发的世界里，客户要换个开发伙伴是很容易的事情，新的开发人员可以很快明白站点的组织结构，而不需趟过先前某人的标记泥淖。但这得要大量的设计提供商都精通 Web 标准才行。 不幸的是，现在的情况并非如此。 虽然经验丰富的 CSS 开发者在增多，但这还是个相对比较专业的领域，因此，大公司要锁定在这种开发方式上还是比较有风险的——缺少熟练的开发者。我个人的经验是如果一个组织要用 CSS 开发站点， 得长期保持至少一个经验丰富的设计师才够用。 所以现在转向 Web 标准不是降低了客户对开发者的依赖，而是增加了。<br><br><strong>七、总结</strong><br><br>毫无疑问地，Web 标准和基于 CSS 的设计是未来之路。 可在我们奔向它们、鼓吹新技术的过程中，也会怀疑自己鼓吹的东西是否太夸张了。比较现实地做点东西却往往达不到我们的期望。而教条地推行这些很可能疏远了我们最应该赢得的伙伴。<br><br>基于表格的设计还会存在好长一段时间。要吸引开发者，我们可以用实例来教人上手，并降低门槛。更别弄出新的门槛来了。我们得诚实地正视利益和代价。 开发 CSS 站点可能比较困难、耗时，而在某些情况下用表格来排版比 CSS 有意义得多。<br>『中国赢网』转载请注明出处： <a href="http://bbs.winet.cn/showthread_threadidis135.html" target="_blank" rel="external"><u><font color="#800080">http://bbs.winet.cn/showthread_threadidis135.html</font></u></a><br></div></div></span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2005/09/23/web-e6-8a-80-e6-9c-af-ef-bc-9a-e6-98-93-e8-b6-a3-vs-e6-b7-98-e5-ae-9d-e8-bd-ac-e8-bd-bd/" rel="prev">Web技术：易趣 vs 淘宝 -转载</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2005/09/22/flash-8-e7-9a-84-e7-89-b9-e6-ae-8a-e6-95-88-e6-9e-9c/" rel="next">flash 8 的特殊效果</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


            </div>

            

            
              <div class="comments" id="comments">
                
              </div>
            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目錄
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            本站概覽
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars3.githubusercontent.com/u/401767?v=3&s=140" alt="Vitrum Zhu" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Vitrum Zhu</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">657</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">32</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vitrum" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/vitrum" target="_blank">Twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vitrum" target="_blank">Weibo</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <p class="post-toc-empty">此文章未包含目錄</p>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp;  2005 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vitrum Zhu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vitrum.duoshuo.com"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>


  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.4" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>








<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
