<!doctype html>
<html class="theme-next use-motion ">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description" content="这个Addon添加了一个小巧的可移动框体在屏幕上能显示你的队员正准备攻击的怪物。如果只有一个玩家攻击这个怪物那这个框体显示绿色并且显示出正在攻击的怪物名称。如果另一个队员也使用近战伤害了这个怪物那这个框体就会显示红色并且显示攻击该怪物的玩家的所有名字This addon adds a small movable bar to your UI that shows who in your party">
<meta property="og:type" content="article">
<meta property="og:title" content="Main Tank Helper">
<meta property="og:url" content="http://vitrum.github.io/2005/05/30/main-tank-helper/index.html">
<meta property="og:site_name" content="Vitrum's Blog">
<meta property="og:description" content="这个Addon添加了一个小巧的可移动框体在屏幕上能显示你的队员正准备攻击的怪物。如果只有一个玩家攻击这个怪物那这个框体显示绿色并且显示出正在攻击的怪物名称。如果另一个队员也使用近战伤害了这个怪物那这个框体就会显示红色并且显示攻击该怪物的玩家的所有名字This addon adds a small movable bar to your UI that shows who in your party">
<meta property="og:image" content="http://www.wowui.cn/upload/20054263224516.jpg">
<meta property="og:updated_time" content="2015-07-27T07:54:26.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Main Tank Helper">
<meta name="twitter:description" content="这个Addon添加了一个小巧的可移动框体在屏幕上能显示你的队员正准备攻击的怪物。如果只有一个玩家攻击这个怪物那这个框体显示绿色并且显示出正在攻击的怪物名称。如果另一个队员也使用近战伤害了这个怪物那这个框体就会显示红色并且显示攻击该怪物的玩家的所有名字This addon adds a small movable bar to your UI that shows who in your party">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

    <title> Main Tank Helper // Vitrum's Blog </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column page-post-detail">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Vitrum's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-about"></i> <br />
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            标签
          </a>
        </li>
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              Main Tank Helper
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          发表于
          <time itemprop="dateCreated" datetime="2005-05-30T03:12:03+08:00" content="2005-05-30">
            2005-05-30
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分类于
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/Lua-in-WOW/" itemprop="url" rel="index"><span itemprop="name">Lua in WOW</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        <span itemprop="articleBody"><div id="msgcns!9697D6160EFEBC17!129" class="bvMsg"><br><br>这个Addon添加了一个小巧的可移动框体在屏幕上能显示你的队员正准备攻击的怪物。如果只有一个玩家攻击这个怪物那这个框体显示绿色并且显示出正在攻击的怪物名称。如果另一个队员也使用近战伤害了这个怪物那这个框体就会显示红色并且显示攻击该怪物的玩家的所有名字<br><br><img src="http://www.wowui.cn/upload/20054263224516.jpg" alt=""><br><br>This addon adds a small movable bar to your UI that shows who in your party is being attacked by mobs. If the player is the only party member being hit (melee) the bar is green and shows the names of mobs hitting the character. If another member of the party is taking melee damage the bar turns red and shows the party member’s name and what is hitting them.<br><br>This addon was designed to help tanks easier tell if they have complete aggro on a group of mobs and alert them when a party member is taking damage.<br><br>— v1.1 - 4/24/05<br>— <em> settings such as on/off and enemy names on/off are now saved across sessions<br>— </em> added chat commands /mth onoffenemy onenemy off<br>— <em> resized window to half it’s original size &amp; reduced font size<br><br>— Main Tank Helper<br>— Faylin - <a href="http://www.wow-ni.com" target="_blank" rel="external">www.wow-ni.com</a><br><br>— v1.1 - 4/24/05<br>— </em> settings such as on/off and enemy names on/off are now saved across sessions<br>— <em> added chat commands /mth on|off|enemy on|enemy off<br>— </em> resized window to half it’s original size &amp; reduced font size<br><br>— v1.0 - 4/21/05<br><br>function MTHelper_OnLoad()<br><br> RegisterForSave(&quot;mthenabled&quot;);<br> RegisterForSave(&quot;mthenemy&quot;);<br><br> this:RegisterEvent(&quot;PLAYER_REGEN_DISABLED&quot;);<br> this:RegisterEvent(&quot;PLAYER_REGEN_ENABLED&quot; );<br> this:RegisterEvent(&quot;UNIT_COMBAT&quot;);<br> this:RegisterEvent(&quot;CHAT_MSG_COMBAT_CREATURE_VS_SELF_HITS&quot;);<br> this:RegisterEvent(&quot;CHAT_MSG_COMBAT_CREATURE_VS_SELF_MISSES&quot;);<br> this:RegisterEvent(&quot;CHAT_MSG_COMBAT_CREATURE_VS_PARTY_HITS&quot;);<br> this:RegisterEvent(&quot;CHAT_MSG_COMBAT_CREATURE_VS_PARTY_MISSES&quot;);<br> this:Hide();<br><br> SLASH_MTHELPER1 = &quot;/mthelper&quot;;<br> SLASH_MTHELPER2 = &quot;/mth&quot;;<br> SlashCmdList[&quot;MTHELPER&quot;] = function (msg)<br>  MTHelper_SlashCmd(msg);<br> end<br><br>end<br><br>function MTHelper_SlashCmd(arg)<br><br>  if ( arg == &quot;&quot; ) then<br> DEFAULT_CHAT_FRAME:AddMessage(&quot;Use: /mth on|off|enemy on| enemy off&quot;);<br>  end<br><br>  if ( arg == &quot;on&quot; ) then<br> mthenabled = 1;<br> DEFAULT_CHAT_FRAME:AddMessage(mthenabled..&quot; - MTHelper <em>ON</em>&quot;);<br>  end<br><br>  if ( arg == &quot;off&quot; ) then<br> mthenabled = 0;<br> DEFAULT_CHAT_FRAME:AddMessage(mthenabled..&quot; - MTHelper <em>OFF</em>&quot;);<br>  end<br><br>  if ( arg == &quot;enemy on&quot; ) then<br> mthenemy = 1;<br> DEFAULT_CHAT_FRAME:AddMessage(&quot;MTHelper: Showing enemy names&quot;);<br>  end<br><br>  if ( arg == &quot;enemy off&quot; ) then<br> mthenemy = 0;<br> DEFAULT_CHAT_FRAME:AddMessage(&quot;MTHelper: Hiding enemy names&quot;);<br>  end<br><br>end<br><br>function MTHelper_OnEvent(event)<br>  if ( event == &quot;PLAYER_REGEN_DISABLED&quot; ) then<br>   if ( mthenabled == 0 ) then<br>    return;<br>   else<br>    this:Show();<br>    return;<br>   end<br>  end<br>  if ( event == &quot;CHAT_MSG_COMBAT_CREATURE_VS_SELF_HITS&quot; or event == &quot;CHAT_MSG_COMBAT_CREATURE_VS_SELF_MISSES&quot; ) then<br>   textll = arg1;<br>   if string.find(textll, &quot;hits&quot;) then<br>    hitpos = string.find(textll, &quot;hits&quot;);<br>    MTHelperBackdrop:SetBackdropColor(0, 1, 0, .75);<br>   elseif string.find(textll, &quot;crits&quot;) then<br>    hitpos = string.find(textll, &quot;crits&quot;);<br>    MTHelperBackdrop:SetBackdropColor(0, 1, 0, .75);<br>   elseif string.find(textll, &quot;attacks&quot;) then<br>    hitpos = string.find(textll, &quot;attacks&quot;);<br>    MTHelperBackdrop:SetBackdropColor(0, 1, 0, .75);<br>   elseif string.find(textll, &quot;misses&quot;) then<br>    hitpos = string.find(textll, &quot;misses&quot;);<br>    MTHelperBackdrop:SetBackdropColor(0, 1, 0, .75);<br>   end<br><br>   enemy = string.sub(textll, 1, hitpos - 2);<br>   ttarget:SetText(enemy)<br>   return;<br>  end<br>  if ( event == &quot;CHAT_MSG_COMBAT_CREATURE_VS_PARTY_HITS&quot; or event == &quot;CHAT_MSG_COMBAT_CREATURE_VS_PARTY_MISSES&quot; ) then<br>   if ( mthenemy == 1 ) then<br>    textll = arg1;<br>    —all victim searches have 1 extra added on for the space<br>    if string.find(textll, &quot;hits&quot;) then<br>     hitpos = string.find(textll, &quot;hits&quot;);<br>     victim = string.sub(textll, hitpos + 5);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;crits&quot;) then<br>     hitpos = string.find(textll, &quot;crits&quot;);<br>     victim = string.sub(textll, hitpos + 6);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;attacks&quot;) then<br>     hitpos = string.find(textll, &quot;attacks&quot;);<br>     victim = string.sub(textll, hitpos + 9);<br>     — have to +9 because there is a . after &quot;attacks&quot;<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;misses&quot;) then<br>     hitpos = string.find(textll, &quot;misses&quot;);<br>     victim = string.sub(textll, hitpos + 6);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    end<br><br>    enemy = string.sub(textll, 1, hitpos - 2);<br>    namepos = string.find(victim, &quot; &quot;);<br>    victim = string.sub(victim, 1, namepos);<br>    ttarget:SetText(victim..&quot; - &quot;..enemy)<br>    return;<br>   else<br>    textll = arg1;<br>    —all victim searches have 1 extra added on for the space<br>    if string.find(textll, &quot;hits&quot;) then<br>     hitpos = string.find(textll, &quot;hits&quot;);<br>     victim = string.sub(textll, hitpos + 5);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;crits&quot;) then<br>     hitpos = string.find(textll, &quot;crits&quot;);<br>     victim = string.sub(textll, hitpos + 6);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;attacks&quot;) then<br>     hitpos = string.find(textll, &quot;attacks&quot;);<br>     victim = string.sub(textll, hitpos + 9);<br>     — have to +9 because there is a . after &quot;attacks&quot;<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    elseif string.find(textll, &quot;misses&quot;) then<br>     hitpos = string.find(textll, &quot;misses&quot;);<br>     victim = string.sub(textll, hitpos + 6);<br>     MTHelperBackdrop:SetBackdropColor(1, 0, 0, .75);<br>    end<br>    namepos = string.find(victim, &quot; &quot;);<br>    victim = string.sub(victim, 1, namepos);<br>    ttarget:SetText(victim);<br>    return;<br>   end<br>  end<br>  if ( event == &quot;PLAYER_REGEN_ENABLED&quot; ) then<br>   this:Hide();<br>   return;<br>  end<br>  if ( event == &quot;UNIT_COMBAT&quot; ) then<br>   — MTHelper_Update();<br>   return;<br>  end<br>end<br></div></span>
      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-prev post-nav-item">
            
              <a href="/2005/07/29/e6-b5-b7-e5-ba-95-e6-b4-9e-e5-a4-a9-e2-80-94-e2-80-94-e7-9f-bf-e9-81-93-e5-9c-b0-e9-93-81lm-e6-89-8d-e8-83-bd-e7-9c-8b-e9-83-a8-e8-90-bd-e5-8e-bb-e5-be-88-e5-8d-b1-e9-99-a9-e5-95-8a/" rel="prev">海底洞天——矿道地铁(LM才能看)部落去很危险啊!</a>
            
          </div>

          <div class="post-nav-next post-nav-item">
            
              <a href="/2005/05/30/wow-apis-e5-9c-a8-e7-ba-bf-e6-9f-a5/" rel="next">wow apis 在线查</a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        <!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
  <a class="jiathis_button_tsina"></a>
  <a class="jiathis_button_tqq"></a>
  <a class="jiathis_button_weixin"></a>
  <a class="jiathis_button_cqq"></a>
  <a class="jiathis_button_douban"></a>
  <a class="jiathis_button_renren"></a>
  <a class="jiathis_button_qzone"></a>
  <a class="jiathis_button_kaixin001"></a>
  <a class="jiathis_button_copy"></a>
  <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank"></a>
  <a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" >
  var jiathis_config={
    hideMore:false
  }
</script>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script>
<!-- JiaThis Button END -->

      
    </div>
  </div>


            </div>

            

            
              <div class="comments" id="comments">
                
              </div>
            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars3.githubusercontent.com/u/401767?v=3&s=140" alt="Vitrum Zhu" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Vitrum Zhu</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">656</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">分类</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">31</span>
              <span class="site-state-item-name">标签</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vitrum" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/vitrum" target="_blank">Twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vitrum" target="_blank">Weibo</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      
        <section class="post-toc-wrap sidebar-panel-active">
          <div class="post-toc-indicator-top post-toc-indicator"></div>
          <div class="post-toc">
            
            
              <p class="post-toc-empty">此文章未包含目录</p>
            
          </div>
          <div class="post-toc-indicator-bottom post-toc-indicator"></div>
        </section>
      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp;  2005 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vitrum Zhu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
    

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vitrum.duoshuo.com"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

    
  
  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>


  
<script type="text/javascript" src="/js/bootstrap.scrollspy.js?v=0.4.4" id="bootstrap.scrollspy.custom"></script>


<script type="text/javascript" id="sidebar.toc.highlight">
  $(document).ready(function () {
    var tocSelector = '.post-toc';
    var $tocSelector = $(tocSelector);
    var activeCurrentSelector = '.active-current';

    $tocSelector
      .on('activate.bs.scrollspy', function () {
        var $currentActiveElement = $(tocSelector + ' .active').last();

        removeCurrentActiveClass();
        $currentActiveElement.addClass('active-current');

        $tocSelector[0].scrollTop = $currentActiveElement.position().top;
      })
      .on('clear.bs.scrollspy', function () {
        removeCurrentActiveClass();
      });

    function removeCurrentActiveClass () {
      $(tocSelector + ' ' + activeCurrentSelector)
        .removeClass(activeCurrentSelector.substring(1));
    }

    function processTOC () {
      getTOCMaxHeight();
      toggleTOCOverflowIndicators();
    }

    function getTOCMaxHeight () {
      var height = $('.sidebar').height() -
                   $tocSelector.position().top -
                   $('.post-toc-indicator-bottom').height();

      $tocSelector.css('height', height);

      return height;
    }

    function toggleTOCOverflowIndicators () {
      tocOverflowIndicator(
        '.post-toc-indicator-top',
        $tocSelector.scrollTop() > 0 ? 'show' : 'hide'
      );

      tocOverflowIndicator(
        '.post-toc-indicator-bottom',
        $tocSelector.scrollTop() >= $tocSelector.find('ol').height() - $tocSelector.height() ? 'hide' : 'show'
      )
    }

    $(document).on('sidebar.motion.complete', function () {
      processTOC();
    });

    $('body').scrollspy({ target: tocSelector });
    $(window).on('resize', function () {
      if ( $('.sidebar').hasClass('sidebar-active') ) {
        processTOC();
      }
    });

    onScroll($tocSelector);

    function onScroll (element) {
      element.on('mousewheel DOMMouseScroll', function (event) {
          var oe = event.originalEvent;
          var delta = oe.wheelDelta || -oe.detail;

          this.scrollTop += ( delta < 0 ? 1 : -1 ) * 30;
          event.preventDefault();

          toggleTOCOverflowIndicators();
      });
    }

    function tocOverflowIndicator (indicator, action) {
      var $indicator = $(indicator);
      var opacity = action === 'show' ? 0.4 : 0;
      $indicator.velocity ?
        $indicator.velocity('stop').velocity({
          opacity: opacity
        }, { duration: 100 }) :
        $indicator.stop().animate({
          opacity: opacity
        }, 100);
    }

  });
</script>

<script type="text/javascript" id="sidebar.nav">
  $(document).ready(function () {
    var html = $('html');
    var TAB_ANIMATE_DURATION = 200;
    var hasVelocity = $.isFunction(html.velocity);

    $('.sidebar-nav li').on('click', function () {
      var item = $(this);
      var activeTabClassName = 'sidebar-nav-active';
      var activePanelClassName = 'sidebar-panel-active';
      if (item.hasClass(activeTabClassName)) {
        return;
      }

      var currentTarget = $('.' + activePanelClassName);
      var target = $('.' + item.data('target'));

      hasVelocity ?
        currentTarget.velocity('transition.slideUpOut', TAB_ANIMATE_DURATION, function () {
          target
            .velocity('stop')
            .velocity('transition.slideDownIn', TAB_ANIMATE_DURATION)
            .addClass(activePanelClassName);
        }) :
        currentTarget.animate({ opacity: 0 }, TAB_ANIMATE_DURATION, function () {
          currentTarget.hide();
          target
            .stop()
            .css({'opacity': 0, 'display': 'block'})
            .animate({ opacity: 1 }, TAB_ANIMATE_DURATION, function () {
              currentTarget.removeClass(activePanelClassName);
              target.addClass(activePanelClassName);
            });
        });

      item.siblings().removeClass(activeTabClassName);
      item.addClass(activeTabClassName);
    });

    $('.post-toc a').on('click', function (e) {
      e.preventDefault();
      var targetSelector = escapeSelector(this.getAttribute('href'));
      var offset = $(targetSelector).offset().top;
      hasVelocity ?
        html.velocity('stop').velocity('scroll', {
          offset: offset  + 'px',
          mobileHA: false
        }) :
        $('html, body').stop().animate({
          scrollTop: offset
        }, 500);
    });

    // Expand sidebar on post detail page by default, when post has a toc.
    var $tocContent = $('.post-toc-content');
    if (isDesktop() && CONFIG.sidebar === 'post') {
      if ($tocContent.length > 0 && $tocContent.html().trim().length > 0) {
        displaySidebar();
      }
    }
  });
</script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>








<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
