<!doctype html>
<html class="theme-next use-motion ">
<head>
    

<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






  <link rel="stylesheet" type="text/css" href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5"/>



  <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,400italic&subset=latin,latin-ext' rel='stylesheet' type='text/css'>


<link rel="stylesheet" type="text/css" href="/css/main.css?v=0.4.4"/>




  <meta name="keywords" content="Hexo,next" />





  <link rel="shorticon icon" type="image/x-icon" href="/favicon.ico?v=0.4.4" />


<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Vitrum's Blog">
<meta property="og:url" content="http://vitrum.github.io/index.html">
<meta property="og:site_name" content="Vitrum's Blog">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vitrum's Blog">
<meta name="twitter:description">


<script type="text/javascript" id="hexo.configuration">
  var CONFIG = {
    scheme: '',
    sidebar: 'post'
  };
</script>

    <title> Vitrum's Blog </title>
</head>
<body itemscope itemtype="http://schema.org/WebPage" lang="">
<!--[if lte IE 8]>
  <div style=' clear: both; height: 59px; padding:0 0 0 15px; position: relative;margin:0 auto;'>
    <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home?ocid=ie6_countdown_bannercode">
      <img src="http://7u2nvr.com1.z0.glb.clouddn.com/picouterie.jpg" border="0" height="42" width="820"
           alt="You are using an outdated browser. For a faster, safer browsing experience, upgrade for free today or use other browser ,like chrome firefox safari."
           style='margin-left:auto;margin-right:auto;display: block;'/>
    </a>
  </div>
<![endif]-->




<div class="container one-column 
   page-home 
">
    <div class="headband"></div>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
        <div class="header-inner"><h1 class="site-meta">
  <span class="logo-line-before"><i></i></span>
  <a href="/" class="brand" rel="start">
      <span class="logo">
        <i class="icon-logo"></i>
      </span>
      <span class="site-title">Vitrum's Blog</span>
  </a>
  <span class="logo-line-after"><i></i></span>
</h1>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu ">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            <i class="menu-item-icon icon-home"></i> <br />
            首頁
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            <i class="menu-item-icon icon-about"></i> <br />
            關於
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            <i class="menu-item-icon icon-archives"></i> <br />
            歸檔
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            <i class="menu-item-icon icon-tags"></i> <br />
            標籤
          </a>
        </li>
      
    </ul>
  

  
</nav>


        </div>
    </header>

    <main id="main" class="main">
        <div class="main-inner">
            <div id="content" class="content">
                
  <section id="posts" class="posts-expand">
    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/28/制作OSX-10-11-El-Capitan-的USB安装盘/" itemprop="url">
                制作OSX 10.11 El Capitan 的USB安装盘
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-28T15:00:31+08:00" content="2015-08-28">
            2015-08-28
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>OS X El Capitan传说9月9日就要发正式了，碰巧我电脑换了硬盘，干脆装一个耍耍～</p>
<p>特此收集了一下USB安装盘的做法，貌似和以前10.10的做法类似。</p>
<h2 id="准备工作">准备工作</h2><ul>
<li>首先要准备一个8G以上的U盘，我特地去买了个支持type-c的U盘，以后可以用来installB</li>
<li><a href="https://developer.apple.com/osx/download/" target="_blank" rel="external">去APPLE开发者社区下载测试版</a></li>
<li>一台能装OS X El Capitan的电脑</li>
<li>确认在”/Applications/“目录中已经正确下载了安装文件：”Install OS X El Capitan Developer Beta.app”</li>
<li>如果是在网盘上下载压缩包的，记得解压缩之后复制”Install OS X El Capitan Developer Beta.app”到/“Applications/“目录去</li>
</ul>
<h2 id="支持安装OS_X_El_Capitan的电脑">支持安装OS X El Capitan的电脑</h2><ul>
<li>iMac (Mid-2007 or, newer)</li>
<li>MacBook (13in Aluminum, Late 2008), (13in, Early 2009 or, newer)</li>
<li>MacBook Pro (13in, Mid-2009 or, newer), (15in, Mid/Late 2007 or, newer), (17in, Late 2007 or, newer)</li>
<li>MacBook Air (Late 2008 or, newer)</li>
<li>Mac Mini (Early 2009 or, newer)</li>
<li>Mac Pro (Early 2008 or, newer)</li>
<li>Xserve (Early 2009)</li>
</ul>
<h2 id="现在开始制作安装U盘">现在开始制作安装U盘</h2><h3 id="第一步_格式化U盘">第一步 格式化U盘</h3><p><img src="http://ips.chotee.com/wp-content/uploads/2014/osx-yosemite-usb-install-drive/format-usb.jpg" alt="http://ips.chotee.com/wp-content/uploads/2014/osx-yosemite-usb-install-drive/format-usb.jpg"></p>
<ul>
<li>1 - 在左方列表中找到 U 盘的名称并点击</li>
<li>右边顶部选择 2 -「分区」，然后在 3 -「分区布局」选择「1个分区」</li>
<li>在分区信息中的 4 -「名称」输入「ElCapInstaller」 (由于后面的命令中会用到此名称，如果你要修改成其他(英文)，请务必对应修改后面的命令)</li>
<li>在「格式」中选择 5 -「Mac OS 扩展 (日志式)」</li>
<li>这时，先别急着点“应用”，还要先在 6 -「选项」里面，如下图</li>
</ul>
<p><img src="http://ips.chotee.com/wp-content/uploads/2014/osx-yosemite-usb-install-drive/guid.jpg" alt="http://ips.chotee.com/wp-content/uploads/2014/osx-yosemite-usb-install-drive/guid.jpg"></p>
<ul>
<li>选择「GUID 分区表」，然后点击「好」</li>
<li>最后再点「应用」开始对 U 盘进行格式化。<br>*</li>
</ul>
<h3 id="第二步_输入终端命令开始制作启动盘">第二步 输入终端命令开始制作启动盘</h3><p>打开终端窗口，输入下面的命令</p>
<p>For OS X El Capitan Public Beta:</p>
<pre><code>sudo /Applications/Install<span class="string">\</span> OS<span class="string">\</span> X<span class="string">\</span> El<span class="string">\</span> Capitan<span class="string">\</span> Public<span class="string">\</span> Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/ElCapInstaller --applicationpath /Applications/Install<span class="string">\</span> OS<span class="string">\</span> X<span class="string">\</span> El<span class="string">\</span> Capitan<span class="string">\</span> Public<span class="string">\</span> Beta.app --nointeraction
</code></pre><p>For OS X 10.11 Developer Beta:</p>
<pre><code>sudo /Applications/Install<span class="string">\</span> OS<span class="string">\</span> X<span class="string">\</span> <span class="number">10.11</span><span class="string">\</span> Developer<span class="string">\</span> Beta.app/Contents/Resources/createinstallmedia --volume /Volumes/ElCapInstaller --applicationpath /Applications/Install<span class="string">\</span> OS<span class="string">\</span> X<span class="string">\</span> <span class="number">10.11</span><span class="string">\</span> Developer<span class="string">\</span> Beta.app --nointeraction
</code></pre><p>然后按下“回车” 键，等待结果</p>
<h3 id="第三步_顺利的话输出这个">第三步 顺利的话输出这个</h3><pre><code>“Erasing Disk: 0%… 10%… 20%… 30%…100%…
Copying installer files to disk…
<span class="built_in">Copy</span> <span class="bash">complete.
</span>Making disk bootable…
Copying boot files…
<span class="built_in">Copy</span> <span class="bash">complete.
</span>Done.”
</code></pre><p>看到Done就是说明好了，期间要等待好长时间，请喝杯茶，走一走，程序员要预防颈椎病～</p>
<h3 id="第四步_测试一下">第四步 测试一下</h3><p>把做好的U盘推出系统，然后再插一下（好像很邪恶的说）。</p>
<p>如果正常就会弹出安装界面。</p>
<h2 id="另外">另外</h2><p>新系统常常伴随着各种问题，勇作小白鼠真是伟大的情操。如果你有重要的资料请做好备份，或者可以再开一个分区，在分区里安装。</p>
<p>参考：</p>
<ul>
<li><a href="http://www.ibtimes.co.uk/os-x-10-11-el-capitan-how-make-bootable-usb-installer-drive-1505947" target="_blank" rel="external">OS X 10.11 El Capitan: How to make bootable USB installer drive</a></li>
</ul>
<ul>
<li><a href="http://www.iplaysoft.com/osx-yosemite-usb-install-drive.html" target="_blank" rel="external">简单制作 OS X Yosemite 10.10 正式版U盘USB启动安装盘方法教程 (全新安装 Mac 系统)</a></li>
</ul>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/26/Thunk函数/" itemprop="url">
                Thunk函数
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-26T14:54:34+08:00" content="2015-08-26">
            2015-08-26
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="缘起">缘起</h2><p>某天在看reack的文档时看到，这个Thunk词好像很屌，在ES6中做回调函数。搜索果然大有历史啊。（我基础太渣啊）</p>
<p><a href="https://en.wikipedia.org/wiki/Thunk" target="_blank" rel="external">Wiki上这么介绍</a></p>
<p>Thunk:形实转换程序, 1961年由Prof.Peter Ingerman发明，当时是在 ALGOL 60 语言里。</p>
<p>说实话我还没搞懂，先挖坑，以后再填</p>
<h2 id="堆资料">堆资料</h2><ul>
<li><a href="https://gist.github.com/1571493" target="_blank" rel="external">Thunk in Javascript</a></li>
<li><a href="http://blog.csdn.net/chenyujing1234/article/details/7443084?utm_source=tuicool" target="_blank" rel="external">WTL中 Thunk技术本质(含代码)</a></li>
</ul>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/24/云上的数据/" itemprop="url">
                云上的数据
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-24T15:35:51+08:00" content="2015-08-24">
            2015-08-24
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><h2 id="一开始只是随便看看">一开始只是随便看看</h2><p>上周在看react的todo例子时碰巧看到了一个基于<a href="http://todomvc.com/examples/firebase-angular/#/" target="_blank" rel="external">Firebase + AngularJS的实时TODO项目</a>，感觉挺有趣的。这样的架构，就不需要为设置数据库服务而头疼了，甚至不需要为一个小应用花一毛钱。</p>
<p>简单来说，Firebase是一个提供实时数据的云服务平台，网页、APP应用使用它的接口就可以做到实时的数据同步。两个人在不同的电脑上打开了同一个应用，其中一个人在网页上进行了操作，网页上产生的变化就会实时在另一个人的APP上表现出来。</p>
<p>Firebase还提供了<a href="https://www.firebase.com/docs/web/libraries/" target="_blank" rel="external">主流JS框架支持</a>，为Angular,Ember,React,Backbone,Ionic什么都写了库，对前端开发来说是不错的利好消息。</p>
<h2 id="BaaS">BaaS</h2><p>BaaS（后端即服务：Backend as a Service）指为移动应用开发者提供整合云后端的边界服务。</p>
<h2 id="国内的替代项目">国内的替代项目</h2><p>不过，他们在2014年10月份爆出新闻，被谷歌收购了。然后，我觉得可能需要找国内替代品了。</p>
<h3 id="Bmob"><a href="http://www.bmob.cn/" target="_blank" rel="external">Bmob</a></h3><p><img src="http://cms.csdnimg.cn/article/201303/06/5136fcc1b8b01.jpg" alt="Bmob"></p>
<p>Bmob是国内第一家专注于移动应用云存储的平台，是基于PaaS模式的云计算平台。开发者可以使用Bmob设计存储框架、获取应用密钥、下载SDK并嵌入应用程序、调用相应API，应用发布后查看存储的统计分析数据，整个流程能够快速实现，并且Bmob的云服务是免费的。</p>
<h3 id="野狗"><a href="https://www.wilddog.com/" target="_blank" rel="external">野狗</a></h3><p><img src="https://cdn.wilddog.com/www-nd/images/index/index-title-first.c2f9b30a.svg" alt="wilddog"></p>
<p>野狗，是国内第一家实时PaaS服务提供商，其创始团队来自360、人人网、百度等一线公司，之所以起了这个名字，除了能够让人过耳不忘之外，还因为其创始人刘之自认为性格偏向野性，对事业极具野心，因而自比“野狗”。</p>
<p>目前野狗的方向是做物联网后端数据云服务，是国内首家支持物联网国际标准CoAP (Constrained Application Protocol)的云服务商。CoAP采用UDP传输层协议来进行通讯，更适合在Google Thread等资源受限设备。CoAP比传统协议节省至少10倍流量，电池使用更加持久。</p>
<h2 id="资料">资料</h2><p><a href="http://www.html-js.com/article/Using-Angular-to-develop-web-application-with-AngularJS-and-Firebase-to-produce-a-real-time-polling-application" target="_blank" rel="external">用AngularJS和Firebase制作一个实时投票应用</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/10/Bitwise-Operation/" itemprop="url">
                Javascript Bitwise Operation
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-10T17:50:17+08:00" content="2015-08-10">
            2015-08-10
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>话说有个编程题目，有两个整数a和b, 求他们的和, 但不能使用 + 等数学运算符。</p>
<p>这是<a href="https://oj.leetcode.com/problems/add-two-numbers/" target="_blank" rel="external">leetcode</a>上的题目，需要用<a href="https://en.wikipedia.org/wiki/Bitwise_operation" target="_blank" rel="external">位运算</a>处理。</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/5/5c/Rotate_left_logically.svg" alt="Rotate left logically"></p>
<p>例如：</p>
<pre><code><span class="label">int</span> <span class="keyword">Add(int </span>a, int <span class="keyword">b)
</span>{
    return <span class="keyword">b </span>? <span class="keyword">Add(a^b, </span>(a&amp;<span class="keyword">b)&lt;&lt;1) </span>: a<span class="comment">;</span>
}
</code></pre><p>其实在Javascript中也有位运算，只是平时很少用到。例如下面这段摘抄的代码，可以猜猜生成什么：</p>
<pre><code><span class="keyword">var</span> a = <span class="string">"10"</span>| 0 ;
console.<span class="literal">log</span>(<span class="string">"Bitwise Or a is : "</span> +a);
<span class="keyword">var</span> b = <span class="string">"s1132"</span>|0;
console.<span class="literal">log</span>(<span class="string">"Bitwise Or b is : "</span> +b);
<span class="keyword">var</span> c = [1,3,2]&amp;1 ;
console.<span class="literal">log</span>(<span class="string">"Bitwise And c is : "</span> +c);
<span class="keyword">var</span> <span class="keyword">d</span> = [1]|0;
console.<span class="literal">log</span>(<span class="string">"Bitwise Or d is : "</span> +<span class="keyword">d</span>);
<span class="keyword">var</span> <span class="keyword">e</span> = ~function(){}();
console.<span class="literal">log</span>(<span class="string">"Bitwise Not e is : "</span> +<span class="keyword">e</span>);
<span class="keyword">var</span> f = ({})|0;
console.<span class="literal">log</span>(<span class="string">"Bitwise Or f is : "</span> +f);
<span class="keyword">var</span> <span class="keyword">g</span> = ([1])|0;
console.<span class="literal">log</span>(<span class="string">"Bitwise Or g is : "</span> +<span class="keyword">g</span>);
<span class="keyword">var</span> <span class="keyword">h</span> = <span class="string">"1ss"</span>^0;
console.<span class="literal">log</span>(<span class="string">"Bitwise Exclusive Or h is : "</span> +<span class="keyword">h</span>);
</code></pre><h2 id="javascript中的位运算">javascript中的位运算</h2><p>　　javascript中的位运算非常复杂，由于javascript试图创建完全无类型（弱类型）的数据，因此数字以64位浮点值存储，即双精度的浮点数。</p>
<p>　　正如大家所料，javascript中没有你想使用的Integer(整型)类型。当我们需要用到integer类型时，javascript会内部执行 Toint32方法(浏览器内部函数，外部不可调用)将值直接转化为32位的integer以供调用，并将原值瞬间转换回双精度浮点型。</p>
<p>　　javascript与其他语言的不同之一就是它奇怪的位运算。</p>
<h2 id="细节请参考">细节请参考</h2><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators" target="_blank" rel="external">Bitwise operators @ mozilla</a></p>
<p><a href="http://www.cnblogs.com/wisdomoon/p/3338327.html" target="_blank" rel="external">javascript位运算</a></p>
<p><a href="http://www.cnblogs.com/fengjun/archive/2012/01/16/2323413.html" target="_blank" rel="external">javascript位运算符</a></p>
<p><a href="http://www.zhihu.com/question/20546013" target="_blank" rel="external">知乎上关于javascript位运算性能的讨论</a></p>
<h2 id="位运算的应用">位运算的应用</h2><p><a href="http://www.doc88.com/p-998235083491.html" target="_blank" rel="external">位运算详解(介绍及用途)</a></p>
<p><a href="http://androiddeveloper.diandian.com/post/2012-06-07/40027080498" target="_blank" rel="external">“位运算”在程序开发中的妙用！</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/07/iOS8的CIDetector/" itemprop="url">
                iOS的CIDetector
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-07T18:04:52+08:00" content="2015-08-07">
            2015-08-07
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>前两天还在抱怨说为啥iOS不自带矩形识别之类的功能，今天就被抽脸了。</p>
<p>下午在<a href="https://github.com/Tim9Liu9/TimLiu-iOS#%E5%8A%A8%E7%94%BB" target="_blank" rel="external">Tim9Liu9的个人iOS开发总结项目</a>中发现了这个<a href="https://github.com/mmackh/IPDFCameraViewController" target="_blank" rel="external">IPDFCameraViewController</a>用的就是iOS自带的CIDetector功能，屌炸天了。</p>
<p><img src="https://raw.githubusercontent.com/mmackh/IPDFCameraViewController/master/mockup.png" alt="IPDFCameraViewController"></p>
<p>这个项目是InstaPDF公司开发的。他们以前的<a href="https://github.com/mmackh/MAImagePickerController-of-InstaPDF" target="_blank" rel="external">MAImagePickerController</a>项目确实用的也是OpenCV。</p>
<p>现在IPDFCameraViewController支持相机定焦拍摄、滤镜、闪光、实时边框检测以及透视矫正功能，并有简单易用的API。</p>
<p>CIDetector是CoreImage的功能，现在常用于人脸识别、笑容识别、QRCode识别等领域。</p>
<p><a href="http://developer.xamarin.com/guides/ios/platform_features/introduction_to_coreimage/" target="_blank" rel="external">xamarin上更多CoreImage的介绍</a></p>
<h2 id="补一篇介绍_2015-08-10">补一篇介绍 2015-08-10</h2><p><a href="https://www.shinobicontrols.com/blog/ios8-day-by-day-day-13-coreimage-detectors" target="_blank" rel="external">iOS8 Day-by-Day :: Day 13 :: CoreImage Detectors</a></p>
<h3 id="Detecting_Rectangles">Detecting Rectangles</h3><p>Detecting rectangles in images is often one of the first parts of a computer vision algorithm – whether it be automatic business card interpretation, or road sign processing. Although rectangle detection sounds like it should be a really simple process, as with many problems in computer vision, it’s far harder than you might expect. So it’s great that Apple have implemented an efficient algorithm as part of the CoreImage detectors.</p>
<p>The main class associated with CoreImage detectors is the aptly-named CIDetector. The same class is used for all the different types of detectors, and is instantiated with the CIDetector(ofType:, context:, options:) initializer. The type argument is a string, which for a rectangle detector is CIDetectorTypeRectangle. The options argument is a dictionary of settings associated with this detector. The following method created a CIDetector to be used for detecting rectangles:</p>
<pre><code>func prepareRectangleDetector() -&gt; CIDetector {
  let <span class="string">options:</span> [<span class="string">String :</span> AnyObject] = [<span class="string">CIDetectorAccuracy:</span> CIDetectorAccuracyHigh, <span class="string">CIDetectorAspectRatio:</span> <span class="number">1.0</span>]
  <span class="keyword">return</span> CIDetector(<span class="string">ofType:</span> CIDetectorTypeRectangle, <span class="string">context:</span> nil, <span class="string">options:</span> options)
}
</code></pre><p>You can see that the options here are specifying the accuracy as high, with the CIDetectorAccuracy key, and the CIDetectorAspectRatio key is used to specify that you’re searching for squares. This aspect ratio doesn’t mean that you’re only looking for squares, but it will be used in the ranking of possible rectangles to determine which is the most likely candidate. For example, if you know that you’re going to use the detector for business cards then setting the aspect ratio to 2.0 will likely yield better results.</p>
<p>Once you’ve created a CIDetector it’s actually really simple to use. The method featuresInImage() takes a CIImage and then returns an array of CIFeature objects (well, a subclass of) which represent the detected objects. In the case of a rectangle detector, the CIFeature subclass is CIRectangleFeature, which has CGPoint properties for each of the four corners of the detected rectangle.</p>
<p>The following method demonstrates how you can use the detector to find a rectangle in a supplied CIImage:</p>
<pre><code><span class="func"><span class="keyword">func</span> <span class="title">performRectangleDetection</span><span class="params">(image: CIImage)</span></span> -&gt; <span class="type">CIImage</span>? {
  <span class="keyword">var</span> resultImage: <span class="type">CIImage</span>?
  <span class="keyword">if</span> <span class="keyword">let</span> detector = detector {
<span class="comment">// Get the detections</span>
<span class="keyword">let</span> features = detector.featuresInImage(image)
<span class="keyword">for</span> feature <span class="keyword">in</span> features <span class="keyword">as</span>! [<span class="type">CIRectangleFeature</span>] {
  resultImage = drawHighlightOverlayForPoints(image, topLeft: feature.topLeft, topRight: feature.topRight,
                                              bottomLeft: feature.bottomLeft, bottomRight: feature.bottomRight)
}
  }
  <span class="keyword">return</span> resultImage
}
</code></pre><p>This unwraps the option detector, before using the featuresInImage() method to perform the detection itself. At the time of writing, the rectangle detector will only ever detect one rectangle in an image, so the features array will have either exactly one or zero CIRectangleFeature objects in it.</p>
<p>This method returns a new CIImage, which contains a red patch overlaid on the source image over the position of the detected rectangle. This uses the utility method drawHighlightOverlayForPoints() method:</p>
<pre><code>func drawHighlightOverlayForPoints(image: <span class="built_in">CIImage</span>, topLeft: <span class="built_in">CGPoint</span>, topRight: <span class="built_in">CGPoint</span>,
                               bottomLeft: <span class="built_in">CGPoint</span>, bottomRight: <span class="built_in">CGPoint</span>) -&gt; <span class="built_in">CIImage</span> {
  var overlay = <span class="built_in">CIImage</span>(color: <span class="built_in">CIColor</span>(red: <span class="number">1.0</span>, green: <span class="number">0</span>, blue: <span class="number">0</span>, alpha: <span class="number">0.5</span>))
  overlay = overlay<span class="variable">.imageByCroppingToRect</span>(image<span class="variable">.extent</span>())
  overlay = overlay<span class="variable">.imageByApplyingFilter</span>(<span class="string">"CIPerspectiveTransformWithExtent"</span>,
withInputParameters: [
  <span class="string">"inputExtent"</span>: <span class="built_in">CIVector</span>(<span class="built_in">CGRect</span>: image<span class="variable">.extent</span>()),
  <span class="string">"inputTopLeft"</span>: <span class="built_in">CIVector</span>(<span class="built_in">CGPoint</span>: topLeft),
  <span class="string">"inputTopRight"</span>: <span class="built_in">CIVector</span>(<span class="built_in">CGPoint</span>: topRight),
  <span class="string">"inputBottomLeft"</span>: <span class="built_in">CIVector</span>(<span class="built_in">CGPoint</span>: bottomLeft),
  <span class="string">"inputBottomRight"</span>: <span class="built_in">CIVector</span>(<span class="built_in">CGPoint</span>: bottomRight)
])
  <span class="keyword">return</span> overlay<span class="variable">.imageByCompositingOverImage</span>(image)
}
</code></pre><p>This method creates a colored image, and then uses the perspective transform filter to map it to the points provided. It then creates a new CIImage by overlaying this colored image with the source image.</p>
<p>In the LiveDetection sample project, the performRectangleDetection() method is used as part in the CoreImageVideoFilter class to run the detector on each of the frames received from the camera, before rendering it on screen. This class is a little more involved than you might expect it to be, and it isn’t within the scope of this article to go in to much detail, however an overview might be helpful.</p>
<p>An AVFoundation pipeline is created which uses the camera as input, and provides a pixel buffer of each frame to a delegate method.<br>In this delegate method a CIImage is created from this pixel buffer.<br>The provided filter function (which takes an input CIImage and returns a new CIImage, much like a map function) is passed the current image.<br>The image is cropped to match the view size it is to be rendered in.<br>The CIImage is then rendered on the OpenGLES surface using a pre-created CIRenderContext.<br>Rinse and repeat for each frame received from the camera.<br>If you need to do live video processing using CoreImage then it might be worth taking a look at this class in greater detail, but if you don’t then the performRectangleDetection() method just takes a CIImage, which you can create using one of the many constructors.</p>
<p>Running this app up will kick off the rectangle detection right away, and you’ll see results like the following on the screen:</p>
<p><img src="https://www.shinobicontrols.com/wp-content/uploads/2014/08/rectangle_detector.png" alt="Rectangle Detector"></p>
<p>The performance is pretty good for real-time use – certainly the demo app copes well on an iPad 3.</p>
<h2 id="另">另</h2><p>人家说至少要iOS8,iPhone5以上。</p>
<p>呵呵</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/03/Nodejs项目中用到的用户权限管理系统/" itemprop="url">
                Nodejs项目中用到的用户权限管理系统
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-03T18:26:02+08:00" content="2015-08-03">
            2015-08-03
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>权限管理，是管理系统中的常见组件。通常需要定义资源，把资源调配给用户，通过判断用户是否有权限增删改查来实现。</p>
<p><a href="https://en.wikipedia.org/wiki/Access_control_list" target="_blank" rel="external">ACL</a>：Access Control List，访问控制列表，是比较流行的设计方式。通过吧用户和权限挂钩来实现。</p>
<p><a href="https://en.wikipedia.org/wiki/Role-based_access_control" target="_blank" rel="external">RBAC</a>：Role Based Access Control，角色访问控制系统，是另一个实现思路。提炼出角色对象，把用户和角色绑定，角色来对应权限，角色和权限没有直接关联，对复杂的系统来说，更加容易管理。</p>
<h2 id="RBAC">RBAC</h2><p><img src="https://upload.wikimedia.org/wikipedia/en/c/c3/RBAC.jpg" alt="wiki"></p>
<p><img src="http://dl.iteye.com/upload/attachment/425543/d2573c4d-dca7-380f-b2fc-6cda19d6eaf5.jpg" alt=""></p>
<h2 id="资料">资料</h2><p><a href="http://rongxh2010.iteye.com/blog/930648" target="_blank" rel="external">扩展RBAC用户角色权限设计方案</a></p>
<p><a href="http://blog.csdn.net/tch918/article/details/18449043" target="_blank" rel="external">基于AOP实现权限管理：访问控制模型RBAC和ACL</a></p>
<p><a href="http://blog.csdn.net/gxp/article/details/6741652" target="_blank" rel="external">基于RBAC模型的权限管理系统的设计和实现</a></p>
<h2 id="node_实现">node 实现</h2><p>源自：<a href="https://gist.github.com/facultymatt/6370903" target="_blank" rel="external">这篇</a></p>
<p><a href="https://github.com/seeden/rbac" target="_blank" rel="external">https://github.com/seeden/rbac</a><br>Hierarchical Role Based Access Control for NodeJS</p>
<p><a href="https://github.com/djvirgen/virgen-acl" target="_blank" rel="external">https://github.com/djvirgen/virgen-acl</a><br>Simple and elegant, create your own checks. No middleware? </p>
<p><a href="https://github.com/OptimalBits/node_acl" target="_blank" rel="external">https://github.com/OptimalBits/node_acl</a><br>Use as middleware, create your own roles and access. Great choice. </p>
<p><a href="https://github.com/tschaub/authorized" target="_blank" rel="external">https://github.com/tschaub/authorized</a><br>Similar to connect roles… but a bit more robust? you can create roles and action, and associate many roles with that action</p>
<p><a href="https://github.com/scottkf/ability-js" target="_blank" rel="external">https://github.com/scottkf/ability-js</a><br>Like canCan for rails. This is a traditional controller / function type permission system. May be too abstract. </p>
<p><a href="https://github.com/dresende/node-roles" target="_blank" rel="external">https://github.com/dresende/node-roles</a><br>More traditional setRole() hasRole() based checking. Last activity 2 years ago. </p>
<p><a href="https://github.com/carlos8f/node-relations" target="_blank" rel="external">https://github.com/carlos8f/node-relations</a><br>Natural language style roles. Looks very promising and is in active development</p>
<p><a href="https://github.com/ForbesLindesay/connect-roles" target="_blank" rel="external">https://github.com/ForbesLindesay/connect-roles</a><br>Simple and closer to action / natural language based. Requires writing your own checks for each. </p>
<p><a href="https://github.com/ajlopez/SimplePermissions" target="_blank" rel="external">https://github.com/ajlopez/SimplePermissions</a><br>Maybe too simple? Makes sense for assigning roles but then its hard to check against roles! </p>
<p><a href="https://npmjs.org/package/entitlement" target="_blank" rel="external">https://npmjs.org/package/entitlement</a><br>Not ideal but here for reference sake.</p>
<h2 id="Mongoose_Field_Access_Control">Mongoose Field Access Control</h2><p><a href="https://github.com/codedoctor/mongoose-plugins-accessible-by" target="_blank" rel="external">https://github.com/codedoctor/mongoose-plugins-accessible-by</a> Set access per field of mongoose Schema. Not supported or maintained, and noted as not a perfect fit in all cases… but worth considering as a simple way to control access to fields. </p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/08/03/图形拼接技术：OpenCV-SIFT/" itemprop="url">
                图形拼接技术：OpenCV, SIFT
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-08-03T13:22:09+08:00" content="2015-08-03">
            2015-08-03
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>某天，嘴炮打的太嗨，说可以用APP识别连续拍的几个图片，然后拼接起来，就像iPhone自带的那个全景拍照模式，Panorama mode。<a href="http://stackoverflow.com/questions/14062932/libraries-to-capture-panorama-in-ios-6" target="_blank" rel="external">很多人也在问</a>。</p>
<p><img src="https://github.com/foundry/OpenCVSwiftStitch/raw/meta/meta/example.big.jpg" alt=""></p>
<h2 id="OpenCV">OpenCV</h2><p>发现OpenCV里已经集成了一个stitch，附上<a href="https://github.com/foundry/OpenCVStitch" target="_blank" rel="external">找到的例程代码</a>。</p>
<h2 id="SIFT">SIFT</h2><p>网上搜到，说叫Rob Hess的大神搞了个基于OpenCV的SIFT算法。这个<a href="https://en.wikipedia.org/wiki/Scale-invariant_feature_transform" target="_blank" rel="external">SIFT</a>(<a href="http://blog.csdn.net/pi9nc/article/details/9251387" target="_blank" rel="external">中文介绍</a>)据说是碉堡扎天的很，通过比对特征点，来拼接图片。<a href="https://github.com/search?l=C%2B%2B&amp;o=desc&amp;q=SIFT&amp;s=stars&amp;type=Repositories&amp;utf8=%E2%9C%93" target="_blank" rel="external">github</a>上面的有很多应用。</p>
<p><a href="http://ppwwyyxx.com/2013/SIFT-and-Image-Stiching/" target="_blank" rel="external">另一篇中文SIFT使用的介绍</a>，<a href="http://github.com/ppwwyyxx/panorama" target="_blank" rel="external">他的例程</a></p>
<p><img src="https://github.com/ppwwyyxx/panorama/raw/master/results/small/apartment.jpg" alt="例子"></p>
<p>这有个例子<a href="http://www.cs.bath.ac.uk/brown/autostitch/autostitch.html" target="_blank" rel="external">AutoStitch</a>，据说可以免费用，有MAC版，而且我手机拍的照片直接就拼起来了，敬仰啊。可惜这个找不到源码。</p>
<p><img src="http://www.cs.bath.ac.uk/brown/autostitch/half950.jpg" alt="例子"></p>
<p><img src="http://www.cs.bath.ac.uk/brown/autostitch/serratus950.jpg" alt="例子"></p>
<p>然后又发现一个叫<a href="http://hugin.sourceforge.net/" target="_blank" rel="external">Hugin</a>的，好像很了得，就是太大了，不知道怎么搞进APP里去。</p>
<h2 id="K-Means,_RANSAC">K-Means, RANSAC</h2><p>这俩是什么鬼完全不懂了～好吧，谷歌一下之后发现K-Means是聚类算法，RANSAC是什么随机一致性什么什么算法。  ：（</p>
<h2 id="总之">总之</h2><p><a href="http://mi.eng.cam.ac.uk/~cipolla/lectures/4F12/Slides/4F12-ImageStitching.pdf" target="_blank" rel="external">一个PDF快速了解关键点～</a></p>
<p><code>为什么在avfoundation就没有接口啊，擦！直接开出来大家不都可以直接用了嘛！差评！</code></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/30/研究现代浏览器的几片文章/" itemprop="url">
                研究现代浏览器的几篇文章
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-30T09:49:20+08:00" content="2015-07-30">
            2015-07-30
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>曾经看到过一篇鸡汤文，说如果有什么事情你很想做，但是又怕坚持不下来，那么就去告诉你的朋友们，让他们来监督你鞭策你甚至嘲笑你：比如100天不撸什么的。</p>
<p>我呢，一直以来都想DIY一个浏览器，现代的，支持HTML5、CSS3、ES6什么的，反正得是高级的，可是我目前的状态是c++不懂，真心不懂。</p>
<p>不过我可以先收集起来，说不定哪天我看完了《c++ primer plus》就可以搞了。</p>
<h2 id="几篇文章">几篇文章</h2><p><a href="http://www.html5rocks.com/zh/tutorials/internals/howbrowserswork/" target="_blank" rel="external">html5rocks:浏览器的工作原理：新式网络浏览器幕后揭秘</a></p>
<p><a href="http://kyleslight.net/article/7" target="_blank" rel="external">浏览器的工作原理 - 现代浏览器背后的风景</a>  上面的另一翻译版</p>
<p><a href="http://blog.sina.com.cn/s/blog_682793a50100t40p.html" target="_blank" rel="external">翻译-现代浏览器的架构与发展</a></p>
<h2 id="浏览器相关的项目">浏览器相关的项目</h2><p><a href="https://github.com/v8/v8" target="_blank" rel="external">V8</a> 对的，就是这个</p>
<p><a href="https://github.com/WebKit/webkit" target="_blank" rel="external">WebKit</a> 对的，就是这个，好屌</p>
<p><a href="https://hg.mozilla.org/" target="_blank" rel="external">mozilla</a> 里面好多东西，都不知是啥。</p>
<p><a href="https://github.com/google/gumbo-parser" target="_blank" rel="external">An HTML5 parsing library in pure C99</a> 谷歌家的HTML5解析，无需其他依赖，<a href="http://blog.csdn.net/huareal/article/details/9970841" target="_blank" rel="external">中文介绍</a></p>
<p><a href="https://github.com/AaronShea/BLUI" target="_blank" rel="external">BLUI: HTML powered UI and HUD for Unreal Engine 4</a> 名字好屌，但是不明白是啥</p>
<p><a href="https://github.com/CzarekTomczak/cef2go" target="_blank" rel="external">CEF2go is an HTML 5 based GUI toolkit for the Go language.</a></p>
<p><a href="https://github.com/libRocket/libRocket" target="_blank" rel="external">libRocket - The HTML/CSS User Interface Library</a></p>
<p><a href="https://github.com/trevorlinton/webkit.js" target="_blank" rel="external">Pure JavaScript Port of WebKit</a> 其实我不知道这是什么贵</p>
<p><a href="https://github.com/Athari/CsCss" target="_blank" rel="external">CSS parsing library for C# based on Mozilla Firefox code [MPL]</a> c#的，什么贵</p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/28/Opencv-应用，图片里取出四边形/" itemprop="url">
                Opencv应用，图片里取出四边形
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-28T10:18:26+08:00" content="2015-07-28">
            2015-07-28
          </time>
        </span>

        
          <span class="post-category" >
            &nbsp; | &nbsp; 分類於
            
              <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a href="/categories/opencv/" itemprop="url" rel="index"><span itemprop="name">opencv</span></a></span>

              
              

            
          </span>
        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>有这样一个需求，在桌上有张纸，可能是票据，合同什么的，用手机咔嚓咔嚓拍下来，然后自动把纸张缩放到合适的大小。可是拍的时候有可能是歪的，不一定就对的很正，桌子也可能是有花纹啊，边上有小干扰物啥的。</p>
<p>这要是做APP的话，可怎么搞，总之是要检测纸张边缘，取出四边形，然后拉伸成规则长方形。</p>
<p>好像选opencv是必然的，还有更好的选择吗？</p>
<h2 id="图像预处理">图像预处理</h2><p>据说通常都要对图像进行降噪避免误测，常见的做法是先进行高斯模糊，然而这并没有什么卵用，会把图像弄模糊，边界都不清楚就没法玩了。所以有人说，可以用Mean Shift，Mean Shift的优点就在于如果是像背景桌面的浅色纹理，图像分割的过程中相当于将这些小的浮动过滤掉，并且保留相对明显的纸张边缘，结果如下：</p>
<p>原图</p>
<p><img src="http://www.linuxidc.com/upload/2015_01/150118102418484.png" alt="原图"></p>
<p>处理后</p>
<p><img src="http://www.linuxidc.com/upload/2015_01/150118102418485.png" alt="处理后"></p>
<p>顺便说一句，现在手机分辨率好高，直接处理这么大的图片会比较消耗资源，把图缩小之后处理速度会提升，而且也变相消除了部分干扰。</p>
<h2 id="边缘检测">边缘检测</h2><p>边缘检测这一步，最好是能有人工干预，把大范围标出来，类似这样：</p>
<p><img src="http://www.linuxidc.com/upload/2015_01/150118102418486.png" alt="类似"></p>
<p>但实际上这样的用户体验肯定是负分了，所以假设用户的桌面不会这么极端，而是使用相对整洁的桌面并且纸张放置相对规整，类似这样的：<br><img src="http://ww3.sinaimg.cn/large/6cea169fjw1edorxi2nqqj20dc0hs414.jpg" alt="类似"></p>
<p>这样就不需要用GrabCut做分割，而是直接灰度处理后用canny算子检测边缘。</p>
<pre><code><span class="comment">// bw is the grayscaled source image</span>
cv<span class="tag">::Canny</span>(<span class="literal">bw</span>, <span class="literal">bw</span>, <span class="number">100</span>, <span class="number">100</span>, <span class="number">3</span>);
</code></pre><p>得到边缘图：</p>
<p><img src="http://ww4.sinaimg.cn/large/6cea169fjw1edorxrxncwj205k07ewf3.jpg" alt="边缘图"></p>
<h2 id="直线检测">直线检测</h2><p>直线检测就是利用概率霍夫变换累加求出图像中的直线，看<a href="http://blog.csdn.net/zhaocj/article/details/40047397" target="_blank" rel="external">介绍</a>和<a href="http://www.tuicool.com/articles/Mn2EBn" target="_blank" rel="external">介绍2</a>。这里我们可以对后面的参数做些微调，在我们的参数里，假设了纸张的宽度和高度都接近边缘，并且各自至少大于画面宽高的一半，那么过短的线就可以直接抛弃了。</p>
<pre><code><span class="comment">// w_proc 就是缩小后的画面宽度，20是把间距20以内的线段延长拼接为一条直线</span>
HoughLinesP<span class="params">(bw, lines, <span class="number">1</span>, CV_<span class="literal">PI</span> / <span class="number">180</span>, w_proc / <span class="number">2</span>, w_proc / <span class="number">2</span>, <span class="number">20</span>)</span>;
</code></pre><p>顺利的得到了这个：</p>
<p><img src="http://ww4.sinaimg.cn/large/6cea169fjw1edp0p51cs6j205k07eq3o.jpg" alt="线图"></p>
<h2 id="判断有效多边形">判断有效多边形</h2><p>上例中的lines，就是我们得到的所有线的集合，每条线包含点的偏移和向量。<br>如何判断其中哪些是有效的多边形，或者说我们要的多边形，对我来说蛮纠结的。有的<a href="http://opencv-code.com/tutorials/automatic-perspective-correction-for-quadrilateral-objects/" target="_blank" rel="external">例子</a>里直接HoughLinesP跑完就有了，我测试的图基本都不行。</p>
<p><a href="http://daisygao.com/2014/02/17/%E7%94%A8opencv%E5%AE%9E%E7%8E%B0%E6%89%AB%E6%8F%8F%E5%85%A8%E8%83%BD%E7%8E%8Bcamscanner/" target="_blank" rel="external">这里</a>的方法是把所有横向的线中取最上和最下两条，纵向线中取最左和最右两条。这里是基于纸张正放的假设，如果侧放就不行了，例如这样的</p>
<p><img src="http://opencv-code.com/wp-content/uploads/perspective-quadrilateral-src-img.jpg" alt="很难这样测出来的"></p>
<h2 id="求四顶点坐标">求四顶点坐标</h2><p>总之不管三七二十一，我们有了四边形的四条边。两两相交有6个点，除去画面外的两个，剩下的四个点就是我们要的四个顶点了。</p>
<p>使用这个<a href="http://en.wikipedia.org/wiki/Line_intersection" target="_blank" rel="external">公式</a>，带入两条直线上的两个点坐标。</p>
<p><img src="http://opencv-code.com/wp-content/uploads/perspective-quadrilateral-line-intersections-equation.png" alt="公式"></p>
<h2 id="透视转换">透视转换</h2><p><img src="http://opencv-code.com/wp-content/uploads/perspective-quadrilateral-match-corners.png" alt="转换"></p>
<p>用<code>getPerspectiveTransform</code>计算转化矩阵，再用<code>warpPerspective</code>调用转化矩阵进行拉伸。</p>
<h2 id="代码">代码</h2><p>制作了一个简单的例程。</p>
<p><a href="https://github.com/vitrum/opencv-demo" target="_blank" rel="external">github</a></p>
<p>参考资料：</p>
<p><a href="http://daisygao.com/2014/02/17/%E7%94%A8opencv%E5%AE%9E%E7%8E%B0%E6%89%AB%E6%8F%8F%E5%85%A8%E8%83%BD%E7%8E%8Bcamscanner/" target="_blank" rel="external">用OpenCV实现“扫描全能王”APP</a></p>
<p><a href="http://www.linuxidc.com/Linux/2015-01/111962.htm" target="_blank" rel="external">利用OpenCV检测图像中的长方形画布或纸张并提取图像内容</a>好像原帖在知乎上</p>
<p><a href="http://opencv-code.com/tutorials/automatic-perspective-correction-for-quadrilateral-objects/" target="_blank" rel="external">Automatic perspective correction for quadrilateral objects</a><br>注：我是觉得这篇里硬要凑4条线拼一个四边形有点难，还是检测出一些，然后判断抛弃一些比较好。</p>
<p><a href="http://blog.csdn.net/mysteryrat/article/details/8955229" target="_blank" rel="external">自动透视校正为四边形对象</a> 上一篇加了写中文注释。</p>
<p><a href="http://blog.163.com/liangq_11/blog/static/35743824201092242725214/" target="_blank" rel="external">深入剖析mean shift 图像分割 原理及代码</a> </p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <header class="post-header">

      
      
        <h1 class="post-title" itemprop="name headline">
          
          
            
              <a class="post-title-link" href="/2015/07/27/hello-world/" itemprop="url">
                Hello World
              </a>
            
          
        </h1>
      

      <div class="post-meta">
        <span class="post-time">
          發表於
          <time itemprop="dateCreated" datetime="2015-07-27T16:29:08+08:00" content="2015-07-27">
            2015-07-27
          </time>
        </span>

        

        
          
        
      </div>
    </header>

    <div class="post-body">

      
      

      
        
          <span itemprop="articleBody"><p>Welcome to <a href="http://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="http://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start">Quick Start</h2><h3 id="Create_a_new_post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="http://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
</span>
        
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/67/">67</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a>
  </nav>


            </div>

            

            
        </div>

        
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      <section class="site-overview">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" src="https://avatars3.githubusercontent.com/u/401767?v=3&s=140" alt="Vitrum Zhu" itemprop="image"/>
          <p class="site-author-name" itemprop="name">Vitrum Zhu</p>
        </div>
        <p class="site-description motion-element" itemprop="description"></p>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">662</span>
              <span class="site-state-item-name">文章</span>
            </a>
          </div>

          <div class="site-state-item site-state-categories">
            
              <span class="site-state-item-count">33</span>
              <span class="site-state-item-name">分類</span>
              
          </div>

          <div class="site-state-item site-state-tags">
            <a href="/tags">
              <span class="site-state-item-count">37</span>
              <span class="site-state-item-name">標籤</span>
              </a>
          </div>

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/vitrum" target="_blank">GitHub</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/vitrum" target="_blank">Twitter</a>
              </span>
            
              <span class="links-of-author-item">
                <a href="http://weibo.com/vitrum" target="_blank">Weibo</a>
              </span>
            
          
        </div>

        
        

        <div class="links-of-author motion-element">
          
        </div>

      </section>

      

    </div>
  </aside>


    </main>

    <footer id="footer" class="footer">
        <div class="footer-inner">
            <div class="copyright" >
  
  &copy; &nbsp;  2005 - 
  <span itemprop="copyrightYear">2015</span>
  <span class="with-love">
    <i class="icon-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vitrum Zhu</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 強力驅動
</div>

<div class="theme-info">
  主題 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT
  </a>
</div>



        </div>
    </footer>

    <div class="back-to-top"></div>
</div>

<script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  
  
  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vitrum.duoshuo.com"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js"></script>
  <script type="text/javascript" src="/js/fancy-box.js?v=0.4.4"></script>


  <script type="text/javascript" src="/js/helpers.js?v=0.4.4"></script>
  

  <script type="text/javascript" src="/vendors/velocity/velocity.min.js"></script>
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js"></script>

  <script type="text/javascript" src="/js/motion_global.js?v=0.4.4" id="motion.global"></script>



  <script type="text/javascript" src="/js/search-toggle.js"></script>



<script type="text/javascript">
    $(document).ready(function () {
        if (CONFIG.sidebar === 'always') {
            displaySidebar();
        }
    });
</script>




  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"vitrum.duoshuo.com"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>
    
     
  	<script src="/js/ua-parser.min.js"></script>
  	<script src="/js/hook-duoshuo.js"></script>
  

  





<!-- lazyload -->
<script type="text/javascript" src="/js/lazyload.js"></script>
<script type="text/javascript">
    jQuery(function () {
        jQuery("#posts img").lazyload({
            placeholder: "/images/loading.gif",
            effect: "fadeIn"
        });
    });
</script>
</body>
</html>
